## Background

The Dream Sequence Navigation Environment simulates a surreal dreamscape where the agent must navigate through interconnected rooms governed by dream logic rather than conventional physics. This mystical realm consists of multiple rooms, each potentially harboring unique properties that alter navigation mechanics. The dreamscape maintains a consistent internal logic that agents can learn and exploit, despite its departure from real-world physics. Each room connects to others through colored doorways, and the entire realm contains a single precious dream key and an elusive Awakening Portal that serves as the ultimate destination.

## Objective

The agent's primary goal is to successfully locate and reach the Awakening Portal within a strict time limit of 40 steps. This objective requires the agent to master a multi-step process: discovering the dream key's location, collecting it, identifying which room houses the Awakening Portal, and navigating the optimal path sequence to reach the portal before time expires. Success demands both exploration efficiency and strategic planning, as the agent must balance thorough room exploration with time management to achieve the winning condition.

## State Setup

The environment initializes with a fixed room layout that remains consistent across all episodes, ensuring that agents can learn and build upon previous experiences. The total number of rooms varies by difficulty level, with 6 rooms for Easy mode, 8 for Medium, and 10 for Hard difficulty. Each room is assigned a unique identifier and contains 1-3 colored doors (Red, Blue, Green) that connect to other rooms in predetermined patterns. Room connections follow fixed rules that never change between episodes, allowing agents to memorize and utilize the navigation network. At the start of each episode, the agent spawns in a randomly selected room, and the dream key is randomly placed in exactly one room throughout the dreamscape. The Awakening Portal remains in a fixed final room specific to each difficulty level, but the path required to reach it varies based on the starting position and key location.

## Actions

The agent can perform five distinct actions within the dreamscape. EnterRedDoor, EnterBlueDoor, and EnterGreenDoor actions allow movement through the correspondingly colored doorways, provided such doors exist in the current room. The PickUpKey action enables the agent to collect the dream key when present in the occupied room. The Wait action allows the agent to remain stationary for one turn, which becomes crucial in Time-Slow rooms where patience is required before doors become accessible. When the agent attempts to enter a non-existent door color in their current room, the action is considered invalid but still consumes one step while keeping the agent in the same location, adding a strategic element to door selection.

## State Transition Rule

Room navigation follows dream logic principles that create consistent but non-intuitive movement patterns. In Normal rooms, colored doors function predictably, leading directly to their designated destination rooms. However, Anti-Gravity rooms implement a fundamental alteration where Red and Blue door destinations swap with each other, while Green doors maintain their original connections. Time-Slow rooms introduce a temporal mechanic where the agent must execute a Wait action before any door becomes usable, effectively requiring patience and planning. These room effects activate immediately upon entry and remain in effect until the agent moves to a different room. Key collection occurs instantly when the PickUpKey action is executed in a room containing the dream key, and the key's presence persists until collected.

## Rewards

This environment employs a binary reward structure that provides clear success feedback. The agent receives a reward of +1 exclusively when reaching the Awakening Portal while possessing the dream key before the 40-step limit expires. All other scenarios, including failure to collect the key, running out of time, entering dead-end rooms, or any other outcome, result in a reward of 0. This binary system creates a clear distinction between complete success and any form of failure, encouraging agents to develop comprehensive strategies that address all winning requirements rather than optimizing for partial achievements.

## Observation

The agent receives comprehensive state information designed to support effective learning while maintaining appropriate challenge levels. The current room ID provides spatial awareness within the dreamscape's numbered room system. Available exits information lists all colored doors present in the current room, enabling informed navigation decisions and preventing invalid door attempts. The room's special property indicator reveals whether the current location follows Normal physics, Anti-Gravity door-swapping rules, or Time-Slow mechanics, allowing agents to adapt their movement strategies accordingly. Dream key status shows whether the agent currently possesses this crucial item, maintaining awareness of progress toward the winning condition. The steps remaining counter creates urgency awareness and supports time management decisions throughout the exploration process.

## Termination

Episode termination occurs under three distinct conditions that provide clear endpoints for learning episodes. Success termination triggers when the agent successfully reaches the Awakening Portal while carrying the dream key, immediately ending the episode with victory. Step limit termination occurs when the agent exhausts all 40 available steps without achieving success, representing failure due to insufficient time management or exploration efficiency. Dead-end termination provides immediate failure when the agent enters a room containing no exit doors, forcing agents to learn and avoid these navigation traps while adding strategic depth to pathfinding decisions.

## Special Features

The environment incorporates several unique mechanics that distinguish it from conventional navigation tasks. Consistent rule application ensures that door color mappings, room effects, and navigation mechanics never change between episodes, enabling agents to build reliable knowledge bases about the dreamscape's behavior patterns. Dynamic key placement randomizes the dream key's location each episode while guaranteeing its presence in exactly one room, maintaining exploration motivation while preventing complete memorization. Fixed portal positioning places the Awakening Portal in a predetermined final room for each difficulty level, but varying start positions and key locations ensure that optimal paths differ across episodes. Difficulty scaling increases complexity purely through additional rooms rather than altering fundamental mechanics, allowing agents to transfer learned strategies across difficulty levels. The dreamscape maintains learnable patterns where optimal solutions always exist and core rules remain discoverable through systematic interaction, ensuring that persistent agents can master the environment through experience and strategic thinking.