**Inverted-Symbol Treasure Hunt Grid Environment Design**

**Background**

The Inverted-Symbol Treasure Hunt Grid presents a challenging exploration scenario set within an 8×8 grid world where conventional symbol meanings are deliberately reversed. In this environment, every tile conceals one of three possible icons that remain invisible until explicitly revealed by the agent. The core challenge stems from semantic inversion: "Bomb" icons actually mark safe treasure locations, while "Flower" icons represent deadly explosive traps, and "Empty" icons indicate harmless vacant spaces. This deliberate contradiction of intuitive associations forces agents to learn purely from environmental feedback rather than relying on pre-existing symbolic knowledge. The grid world maintains a mysterious atmosphere where exploration carries genuine risk, as stepping onto the wrong tile can immediately terminate the episode.

**Objective**

The agent must successfully locate and physically step onto the single Bomb-marked tile within the allocated 30-step limit while avoiding all Flower-marked tiles. This requires a careful balance of exploration to reveal hidden icons and strategic movement to reach the treasure location safely. The agent cannot win merely by revealing the Bomb tile; physical contact through stepping onto that specific location is mandatory for success. Throughout this process, the agent must maintain awareness of previously revealed dangerous Flower tiles and navigate around them while efficiently using the limited step budget to explore unknown areas of the grid.

**State Setup**

Each episode begins with the agent positioned at coordinates (0,0) in the bottom-left corner of the 8×8 grid. The environment randomly distributes exactly one Bomb icon, ten Flower icons, and fifty-three Empty icons across the 64 grid positions using uniform random placement. All tiles start in an unrevealed state, appearing blank to the agent regardless of their hidden contents. The step counter initializes at 30, decrementing with each action taken. The random seed controlling icon placement can be fixed for reproducibility when required, ensuring identical layouts across experimental runs while maintaining the challenge of unknown icon locations.

**Actions**

The agent has access to six distinct actions during each turn. Movement actions include MoveNorth, MoveSouth, MoveWest, and MoveEast, each advancing the agent one tile in the corresponding direction if the movement stays within grid boundaries. Attempting to move outside the 8×8 grid results in the agent remaining in place while still consuming one step from the budget. The Reveal action exposes the icon at the agent's current location without changing position, permanently making that tile's contents visible in future observations. The Wait action allows the agent to remain stationary for one step, useful for deliberation or when no beneficial moves are available. Additionally, moving onto any unrevealed tile automatically triggers an implicit revelation of that tile's contents before finalizing the movement, ensuring the agent always knows what they step on but adding risk to exploratory movements.

**State Transition Rule**

State transitions follow deterministic rules based on the agent's chosen action and current grid state. Movement actions update the agent's coordinates while respecting grid boundaries, with failed boundary crossings leaving the agent in place. The Reveal action transitions the target tile from unrevealed to revealed status, exposing its hidden icon permanently. When moving to unrevealed tiles, the implicit revelation occurs first, followed by position update and immediate consequence evaluation. If the revealed tile contains a Flower icon, the episode terminates immediately upon the agent stepping onto it. If the revealed tile contains the Bomb icon, successful treasure collection occurs, triggering episode completion with reward. Empty tiles allow normal occupancy without special effects. The step counter decrements by exactly one for every action regardless of success or failure, maintaining consistent temporal progression throughout the episode.

**Rewards**

This environment employs a binary reward structure with exactly two possible values. The agent receives a reward of +1 exclusively when successfully stepping onto the Bomb-marked treasure tile within the 30-step limit. All other outcomes, including stepping on Flower tiles, running out of time, or any intermediate state transitions, yield a reward of 0. No negative rewards, partial credits, or shaping bonuses are provided, creating a sparse reward signal that requires agents to learn the complete task sequence for any positive feedback. This binary structure emphasizes the critical importance of both finding the correct tile and avoiding deadly traps, as any mistake results in episode termination without reward.

**Observation**

The agent receives carefully structured partial observations designed to support learning while maintaining appropriate challenge levels. The primary observation component is a 5×5 window centered on the agent's current position, displaying the revelation status and icon type of each tile within this local view. Tiles appear as "Unseen" until revealed, then permanently display their true icon ("Bomb", "Flower", or "Empty") in subsequent observations. The agent also observes its absolute coordinates within the full 8×8 grid, providing spatial context for navigation and mapping. The remaining step count is clearly visible, enabling temporal planning and urgency assessment. This observation design provides sufficient information for strategic decision-making while requiring active exploration to gather intelligence about distant grid areas. The 5×5 window size ensures agents can see immediate surroundings and recently visited areas while preventing complete grid visibility, maintaining the exploration challenge.

**Termination**

Episodes terminate under three distinct conditions, each triggering immediate environment reset. Success termination occurs when the agent steps onto the Bomb-marked treasure tile, ending the episode with reward delivery. Failure termination happens when the agent steps onto any Flower-marked tile, immediately concluding the episode with zero reward. Timeout termination activates when the step counter reaches zero without achieving treasure collection, also resulting in zero reward. Following any termination condition, the environment completely resets with new random icon placement, returning the agent to the starting position with a fresh 30-step budget. The deterministic nature of termination conditions ensures consistent learning signals across episodes.

**Special Features**

The environment incorporates several unique mechanics that distinguish it from standard grid worlds. The semantic inversion feature deliberately contradicts intuitive symbol meanings, forcing agents to learn from environmental feedback rather than symbolic priors. The implicit revelation mechanism automatically exposes tiles when agents move onto them, eliminating the need for separate reveal-then-move action sequences while maintaining risk for exploratory movements. The partial observation window creates a strategic tension between local detailed knowledge and global spatial awareness, requiring agents to maintain internal maps of explored areas. The fixed difficulty design ensures all episodes present equivalent challenge levels with consistent rules, supporting stable learning dynamics. The step budget constraint adds temporal pressure that prevents exhaustive exploration strategies, encouraging efficient pathfinding and risk assessment. The binary reward structure with sparse feedback emphasizes the importance of complete task success rather than partial progress, creating clear learning objectives while demanding robust exploration strategies.