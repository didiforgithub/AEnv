# Molecular Taste Navigation Environment Design Document

## Background

The Molecular Taste Navigation Environment presents a unique sensory navigation challenge where agents must traverse maze-like structures using only chemical sensory information. In this world, traditional visual and auditory navigation cues are completely absent, forcing agents to rely entirely on molecular taste signatures that permeate each location. Every cell in the environment continuously releases a stable, distinctive molecular mixture composed of five fundamental taste compounds: sweet, sour, salty, bitter, and umami. These chemical gradients form an invisible landscape that encodes spatial relationships and directional guidance toward a hidden goal location. The agent takes on the role of a chemical sensor capable of detecting and interpreting these molecular concentrations, learning to navigate through pure taste-based spatial reasoning.

## Objective

The agent's primary mission is to successfully navigate from a randomly assigned starting position to a concealed goal cell within the maze environment. This navigation must be accomplished within a strict time constraint of 40 steps, creating urgency that demands efficient pathfinding strategies. The challenge lies not only in reaching the destination but in learning to decode the complex chemical language that reveals spatial relationships and optimal movement directions. Success requires the agent to develop sophisticated pattern recognition abilities that can translate taste intensity combinations into actionable navigation decisions.

## State Setup

Each episode begins with the agent positioned at a randomly selected cell within a maze structure that measures up to 9×9 cells in dimension. The goal location remains fixed throughout each level but is positioned to ensure that the optimal path length ranges between 8 to 12 moves, maintaining consistent difficulty across different starting positions. The maze layout incorporates wall configurations that create meaningful navigation challenges while ensuring that every level remains solvable within the step limit. Each cell's molecular signature is pre-computed and remains constant throughout the episode, creating a deterministic chemical landscape that supports reliable learning. The flavor intensity patterns are carefully calibrated to ensure that neighboring cells within any 3×3 region possess unique chemical signatures, eliminating ambiguous readings that could mislead the learning process.

## Actions

The agent possesses a repertoire of five distinct actions that define its interaction capabilities within the environment. Action 0 represents "Do Nothing," allowing the agent to remain stationary and re-sample the current cell's chemical signature without changing position, which proves valuable for confirming taste readings or when uncertain about movement direction. Actions 1 through 4 correspond to directional movement attempts: Move North, Move East, Move South, and Move West respectively. Each movement action represents the agent's intention to transition to an adjacent cell in the specified direction. All actions consume exactly one time step from the available 40-step budget, emphasizing the importance of decisive and efficient decision-making. When an agent attempts to move into a wall or boundary, the movement fails but still consumes a step, adding strategic consideration to movement planning.

## State Transition Rule

State transitions in this environment follow deterministic rules that govern both successful and failed movement attempts. When the agent selects a valid movement action toward an accessible adjacent cell, it successfully transitions to that new location and immediately receives the chemical signature of the destination cell. If the agent attempts to move toward a wall or maze boundary, the transition fails and the agent remains in its current position, but the step counter decreases nonetheless, creating a penalty for inefficient exploration. The "Do Nothing" action results in the agent maintaining its current position while receiving a fresh reading of the local chemical signature. Throughout all transitions, the step counter decreases by exactly one, and the maze structure itself remains completely static. The chemical signatures associated with each cell remain constant throughout the episode, ensuring that repeat visits to the same location yield identical taste readings.

## Rewards

This environment implements a binary reward structure that provides clear, unambiguous feedback for goal achievement. The agent receives a reward of +1 exclusively when it successfully enters the goal cell for the first time during an episode. All other actions and states yield a reward of 0, including failed movement attempts, successful movements to non-goal cells, remaining stationary, and even revisiting the goal cell after initial success. This binary reward system eliminates reward shaping and forces the agent to develop intrinsic motivation for exploration and pattern recognition. The sparse reward signal creates a challenging learning environment that requires the agent to discover the correlation between chemical signatures and spatial proximity to the goal through systematic exploration and pattern analysis.

## Observation

The agent's sensory system provides three critical information streams that enable navigation decision-making. The primary observation component consists of the Flavor Vector: five real-valued measurements ranging from 0 to 1 that represent the current intensity levels of sweet, sour, salty, bitter, and umami compounds detected in the current cell. These values encode sophisticated spatial information through carefully designed correlation patterns where sweet and umami intensities decrease with distance from the goal while bitter intensity increases with distance. Sour and salty components introduce controlled stochastic variation that prevents oversimplified navigation strategies while maintaining the overall gradient structure. The second observation component is the Step Counter, which provides the number of remaining moves available, enabling time-aware planning strategies. The third component is the Wall Bitmask: four boolean values indicating whether movement is physically possible in each cardinal direction (North, East, South, West), preventing wasted actions on impossible moves while revealing local maze structure without providing distance or global position information.

## Termination

Episode termination occurs under two distinct conditions that define success and failure states. Immediate termination with success occurs when the agent enters the goal cell, regardless of how many steps remain unused, allowing efficient agents to complete episodes quickly. Termination with failure occurs when the agent exhausts all 40 available steps without reaching the goal, emphasizing the importance of both accuracy and efficiency in navigation strategies. No intermediate termination conditions exist, ensuring that agents have consistent opportunity for exploration and recovery from suboptimal early decisions, while maintaining pressure for timely goal achievement.

## Special Features

The environment incorporates several sophisticated design elements that ensure learnability and consistency across different levels. The Flavor Gradient Consistency mechanism ensures that all maze configurations maintain identical mathematical relationships between chemical signatures and spatial proximity to goals, enabling knowledge transfer between levels. Local Uniqueness guarantees that every possible 3×3 neighborhood within any maze possesses a distinctive chemical fingerprint, eliminating perceptual ambiguities that could impede learning progress. Stationary Chemistry ensures that all molecular signatures remain temporally stable within episodes, supporting both tabular learning approaches and model-based reasoning strategies. The Multiple Level Consistency framework maintains identical maze dimensions, step limits, flavor correlation rules, and wall detection mechanics across all levels, while controlling difficulty through standardized path length requirements. Controlled stochasticity in sour and salty channels follows identical statistical distributions across all levels, ensuring that learned noise-filtering strategies remain applicable universally, supporting robust skill acquisition and transfer.